{"version":3,"sources":["Utils/getReviewerData.js","Utils/useGetAuthorData.js","Utils/localStorage.js","User/User.js","User/index.js","Settings/Settings.js","Settings/index.js","App/App.js","App/index.js","reportWebVitals.js","index.js"],"names":["getReviewerData","settings","setReviewer","login","repo","fetch","then","response","json","data","console","log","length","filtered","filter","item","blackList","split","map","blackItem","trim","includes","randomIndex","Math","floor","random","catch","error","useGetAuthorData","useState","author","setAuthor","useEffect","keySettings","localStorage","window","User","props","user","className","width","height","src","avatar_url","alt","label","Settings","settingsHide","setSettingsHide","innerData","setInnerData","handleChange","event","target","value","type","checked","name","state","onClick","onChange","onSaveHandler","App","defaultValue","rawValue","getItem","JSON","parse","setItem","stringify","loadSettingsLocalStorage","setSettings","reviewer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oRA2BeA,MA3Bf,SAAyBC,EAAUC,GAC5BD,EAASE,OAAUF,EAASG,MAGjCC,MAAM,gCAAD,OAAiCJ,EAASE,MAA1C,YAAmDF,EAASG,KAA5D,kBACFE,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GAEL,GADAC,QAAQC,IAAI,qBAAsBF,KAC9B,OAACA,QAAD,IAACA,OAAD,EAACA,EAAMG,QAAS,EAClBV,EAAY,UADd,CAIA,IAAMW,EAAWJ,EACdK,QAAO,SAAAC,GAAI,OAAKd,EAASe,UACvBC,MAAM,KAAKC,KAAI,SAAAC,GAAS,OAAIA,EAAUC,UACtCC,SAASN,EAAKZ,UAEnB,GAAIU,GAAYA,EAASD,OAAS,EAAG,CACnC,IAAMU,EAAcC,KAAKC,MAAMD,KAAKE,SAAWZ,EAASD,QACxDV,EAAYW,EAASS,SAErBpB,EAAY,UAGfwB,OAAM,SAACC,GAAD,OAAWjB,QAAQiB,MAAMA,OCGrBC,MAzBf,SAA0B3B,GAAW,IAAD,EACN4B,mBAAS,MADH,mBAC3BC,EAD2B,KACnBC,EADmB,KAsBlC,OAnBAC,qBAAU,WACH/B,EAASE,QAAe,OAAN2B,QAAM,IAANA,OAAA,EAAAA,EAAQ3B,SAAUF,EAASE,OAIlDE,MAAM,gCAAD,OAAiCJ,EAASE,QAC5CG,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLC,QAAQC,IAAI,aAAcF,GAEtBA,EAAKN,QAAUF,EAASE,MAC1B4B,EAAUtB,GAEVsB,EAAU,SAGbL,OAAM,SAACC,GAAD,OAAWjB,QAAQiB,MAAMA,QACjC,CAAC1B,EAASE,MAAO2B,IAEbA,GCxBHG,EAAc,gBACdC,EAAeC,OAAOD,a,eCkBbE,ICjBAA,EDAf,SAAcC,GACZ,OAAIA,EAAMC,KAEN,sBAAKC,UAAU,OAAf,UACE,qBAAKC,MAAM,QAAQC,OAAO,QAAQF,UAAU,eAAeG,IAAKL,EAAMC,KAAKK,WAAYC,IAAI,KAC3F,sBAAKL,UAAU,aAAf,UAA6BF,EAAMQ,MAAnC,KAA4CR,EAAMC,KAAKnC,YAKzD,sBAAKoC,UAAU,OAAf,UACGF,EAAMQ,MADT,0D,oBEmDSC,IC7DAA,EDCf,SAAkBT,GAAQ,IAAD,EACiBR,oBAAS,GAD1B,mBAChBkB,EADgB,KACFC,EADE,OAEWnB,mBAASQ,EAAMpC,UAF1B,mBAEhBgD,EAFgB,KAELC,EAFK,KAIvB,SAASC,EAAaC,GACpB,IAAMC,EAASD,EAAMC,OACfC,EAAwB,aAAhBD,EAAOE,KAAsBF,EAAOG,QAAUH,EAAOC,MAC7DG,EAAOJ,EAAOI,KAEpBP,GAAa,SAACQ,GACZ,OAAO,2BACFA,GADL,kBACaD,EAAOH,OAexB,OACE,sBAAKf,UAAU,WAAf,UACE,wBAAQA,UAAU,MAAMoB,QAAS,kBAAMX,GAAiBD,IAAxD,oEAEGA,EAwBC,KAvBA,sBAAKR,UAAU,gBAAf,UACA,sBAAKA,UAAU,WAAf,UACE,uBAAOA,UAAU,aAAjB,mBACA,uBAAOA,UAAU,aAAakB,KAAK,QAAQH,MAAOL,EAAU9C,MAAOyD,SAAUT,IAC7E,qBAAKZ,UAAU,YAAf,mGAEF,sBAAKA,UAAU,WAAf,UACE,uBAAOA,UAAU,aAAjB,kBACA,uBAAOA,UAAU,aAAakB,KAAK,OAAOH,MAAOL,EAAU7C,KAAMwD,SAAUT,IAC3E,qBAAKZ,UAAU,YAAf,uSAEF,sBAAKA,UAAU,WAAf,UACE,uBAAOA,UAAU,aAAjB,uBACA,uBAAOA,UAAU,aAAakB,KAAK,YAAYH,MAAOL,EAAUjC,UAAW4C,SAAUT,IACrF,qBAAKZ,UAAU,YAAf,6EAEF,qBAAKA,UAAU,WAAf,SACE,sBAAKA,UAAU,UAAf,UACE,wBAAQA,UAAU,MAAMoB,QAjCpC,WACEX,GAAiBD,GACjBV,EAAMwB,cAAcZ,IA+BV,oEACA,wBAAQV,UAAU,MAAMoB,QA7BpC,WACEX,GAAiBD,GACjBG,EAAab,EAAMpC,WA2BT,0EELC6D,IC9CAA,EDMf,WAAgB,IAAD,EACmBjC,mBLFD,SAACkC,GAChC,IAAIC,EAAW9B,EAAa+B,QAAQhC,GACpC,OAAK+B,EAIEE,KAAKC,MAAMH,IAHd9B,EAAakC,QAAQnC,EAAaiC,KAAKG,UAAUN,IAC1CA,GKF8BO,CAAyB,CAChEnE,MAAO,UACPC,KAAM,uBACNY,UAAW,MAJA,mBACNf,EADM,KACIsE,EADJ,OAMmB1C,mBAAS,MAN5B,mBAMN2C,EANM,KAMItE,EANJ,KAOP4B,EAASF,EAAiB3B,GAahC,OACE,qBAAKsC,UAAU,MAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,yBAAQA,UAAU,SAAlB,UACE,oBAAIA,UAAU,gBAAd,sEACA,qBAAKA,UAAU,iBACf,sBAAKA,UAAU,mBAAf,UACE,wBAAQA,UAAU,MAAMoB,QAlBlC,WACE3D,EAAgBC,EAAUC,IAiBlB,qHACA,cAAC,EAAD,CAAUD,SAAUA,EAAU4D,cAfxC,SAA4BpD,GLlBG,IAAC6C,EKmB1B7C,ILnB0B6C,EKoBH7C,ELnB7ByB,EAAakC,QAAQnC,EAAaiC,KAAKG,UAAUf,IKoB7CiB,EAAY9D,aAeV,uBAAM8B,UAAU,YAAhB,UACE,cAAC,EAAD,CAAMM,MAAO,iCAASP,KAAMR,IAC5B,cAAC,EAAD,CAAMe,MAAO,qEAAeP,KAAMkC,aE7B7BC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBrE,MAAK,YAAkD,IAA/CsE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.809b1ad4.chunk.js","sourcesContent":["function getReviewerData(settings, setReviewer) {\n  if (!settings.login || !settings.repo) {\n    return;\n  }\n  fetch(`https://api.github.com/repos/${settings.login}/${settings.repo}/contributors`)\n    .then((response) => response.json())\n    .then((data) => {\n      console.log('fetch contributors', data)\n      if (!data?.length > 0) {\n        setReviewer(null);\n        return;\n      }\n      const filtered = data\n        .filter(item => !settings.blackList\n          .split(',').map(blackItem => blackItem.trim())\n          .includes(item.login)\n        )\n      if (filtered && filtered.length > 0) {\n        const randomIndex = Math.floor(Math.random() * filtered.length);\n        setReviewer(filtered[randomIndex]);\n      } else {\n        setReviewer(null);\n      }\n    })\n    .catch((error) => console.error(error));\n}\n\nexport default getReviewerData;\n  ","import { useEffect, useState } from \"react\";\n\nfunction useGetAuthorData(settings) {\n  const [author, setAuthor] = useState(null);\n\n  useEffect(() => {\n    if (!settings.login || author?.login === settings.login) {\n      return;\n    }\n\n    fetch(`https://api.github.com/users/${settings.login}`)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log('fetch user', data)\n        // если пришло что-то другое, то без проверки мы уйдем в бесконечный цикл обновлений\n        if (data.login === settings.login) {\n          setAuthor(data);\n        } else {\n          setAuthor(null);\n        }\n      })\n      .catch((error) => console.error(error));\n  }, [settings.login, author]);\n\n  return author;\n}\n\nexport default useGetAuthorData;\n  ","const keySettings = 'savedSettings';\nconst localStorage = window.localStorage;\n\nconst saveSettingsLocalStorage = (value) => {\n  localStorage.setItem(keySettings, JSON.stringify(value));\n}\n\nconst loadSettingsLocalStorage = (defaultValue) => {\n  let rawValue = localStorage.getItem(keySettings);\n  if (!rawValue) {\n      localStorage.setItem(keySettings, JSON.stringify(defaultValue));\n      return defaultValue;\n  }\n  return JSON.parse(rawValue);\n}\n\nexport {\n    saveSettingsLocalStorage,\n    loadSettingsLocalStorage\n}\n","import './User.css';\n\nfunction User(props) {\n  if (props.user) {\n    return (\n      <div className=\"user\">\n        <img width=\"200px\" height=\"200px\" className=\"user__avatar\" src={props.user.avatar_url} alt=\"\" />\n        <div className=\"user__name\">{props.label}: {props.user.login}</div>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"user\">\n        {props.label}: не найден\n      </div>\n    );\n  }\n}\n\nexport default User;\n","import User from \"./User\";\n\nexport default User;\n","import './Settings.css';\nimport { useState } from 'react';\n\nfunction Settings(props) {\n  const [settingsHide, setSettingsHide] = useState(true);\n  const [innerData, setInnerData] = useState(props.settings)\n\n  function handleChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    setInnerData((state) => {\n      return {\n        ...state, [name]: value\n      }\n    });\n  }\n\n  function handleSave() {\n    setSettingsHide(!settingsHide);\n    props.onSaveHandler(innerData);\n  }\n  \n  function handleCancel() {\n    setSettingsHide(!settingsHide);\n    setInnerData(props.settings);\n  }\n\n  return (\n    <div className=\"settings\">\n      <button className=\"btn\" onClick={() => setSettingsHide(!settingsHide)}>Настройки</button>\n      {\n        !settingsHide\n        ? <div className=\"settings-form\">\n          <div className=\"form-row\">\n            <label className=\"form-label\">login</label>\n            <input className=\"form-input\" name=\"login\" value={innerData.login} onChange={handleChange}/>\n            <div className=\"form-hint\">login git-пользователя</div>\n          </div>\n          <div className=\"form-row\">\n            <label className=\"form-label\">repo</label>\n            <input className=\"form-input\" name=\"repo\" value={innerData.repo} onChange={handleChange}/>\n            <div className=\"form-hint\">Название репозитория, принадлежащего git-пользователю</div>\n          </div>\n          <div className=\"form-row\">\n            <label className=\"form-label\">blackList</label>\n            <input className=\"form-input\" name=\"blackList\" value={innerData.blackList} onChange={handleChange}/>\n            <div className=\"form-hint\">Пример: login1, login2, loginN</div>\n          </div>\n          <div className=\"form-row\">\n            <div className=\"buttons\">\n              <button className=\"btn\" onClick={handleSave}>Сохранить</button>\n              <button className=\"btn\" onClick={handleCancel}>Отменить</button>\n            </div>\n          </div>\n        </div>\n        : null\n      }\n    </div>\n  );\n}\n\nexport default Settings;\n  ","import Settings from \"./Settings\";\n\nexport default Settings;\n","import './App.css';\nimport { useState } from 'react';\nimport getReviewerData from \"../Utils/getReviewerData\";\nimport useGetAuthorData from \"../Utils/useGetAuthorData\";\nimport { loadSettingsLocalStorage, saveSettingsLocalStorage } from \"../Utils/localStorage\";\nimport User from \"../User\";\nimport Settings from \"../Settings\";\n\nfunction App() {\n  const [settings, setSettings] = useState(loadSettingsLocalStorage({\n    login: 'razikov',\n    repo: 'hh-school-react-2021',\n    blackList: ''\n  }));\n  const [reviewer, setReviewer] = useState(null);\n  const author = useGetAuthorData(settings);\n\n  function handleGenerate() {\n    getReviewerData(settings, setReviewer);\n  }\n\n  function handleSaveSettings(data) {\n    if (data) {\n      saveSettingsLocalStorage(data)\n      setSettings(data);\n    }\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"content-container\">\n        <header className=\"header\">\n          <h3 className=\"header__title\">ДЗ по React без redux</h3>\n          <div className=\"header__fill\"></div>\n          <div className=\"header__commands\">\n            <button className=\"btn\" onClick={handleGenerate}>Найти проверяющего</button>\n            <Settings settings={settings} onSaveHandler={handleSaveSettings}/>\n          </div>\n        </header>\n        <main className=\"user-pair\">\n          <User label={\"Автор\"} user={author}/>\n          <User label={\"Проверяющий\"} user={reviewer}/>\n        </main>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import App from \"./App\";\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}