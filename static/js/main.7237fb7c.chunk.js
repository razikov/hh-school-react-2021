(this["webpackJsonphh-school-react-2021"]=this["webpackJsonphh-school-react-2021"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(6),l=n.n(a),i=(n(11),n(2));n(12);var r=function(e,t){e.login&&e.repo&&fetch("https://api.github.com/repos/".concat(e.login,"/").concat(e.repo,"/contributors")).then((function(e){return e.json()})).then((function(n){if(console.log("fetch contributors",n),!(null===n||void 0===n?void 0:n.length)>0)t(null);else{var c=n.filter((function(t){return!e.blackList.split(",").map((function(e){return e.trim()})).includes(t.login)}));if(c&&c.length>0){var s=Math.floor(Math.random()*c.length);t(c[s])}else t(null)}})).catch((function(e){return console.error(e)}))};var o=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){e.login&&(null===s||void 0===s?void 0:s.login)!==e.login&&fetch("https://api.github.com/users/".concat(e.login)).then((function(e){return e.json()})).then((function(t){console.log("fetch user",t),t.login===e.login?a(t):a(null)})).catch((function(e){return console.error(e)}))}),[e.login,s]),s},u="savedSettings",j=window.localStorage,b=(n(13),n(0));var h=function(e){return e.user?Object(b.jsxs)("div",{className:"user",children:[Object(b.jsx)("img",{width:"200px",height:"200px",className:"user__avatar",src:e.user.avatar_url,alt:""}),Object(b.jsxs)("div",{className:"user__name",children:[e.label,": ",e.user.login]})]}):Object(b.jsxs)("div",{className:"user",children:[e.label,": \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"]})},d=n(3),m=n(5);n(15);var f=function(e){var t=Object(c.useState)(!0),n=Object(i.a)(t,2),s=n[0],a=n[1],l=Object(c.useState)(e.settings),r=Object(i.a)(l,2),o=r[0],u=r[1];function j(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,c=t.name;u((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(d.a)({},c,n))}))}return Object(b.jsxs)("div",{className:"settings",children:[Object(b.jsx)("button",{className:"btn",onClick:function(){return a(!s)},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),s?null:Object(b.jsxs)("div",{className:"settings-form",children:[Object(b.jsxs)("div",{className:"form-row",children:[Object(b.jsx)("label",{className:"form-label",children:"login"}),Object(b.jsx)("input",{className:"form-input",name:"login",value:o.login,onChange:j}),Object(b.jsx)("div",{className:"form-hint",children:"login git-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]}),Object(b.jsxs)("div",{className:"form-row",children:[Object(b.jsx)("label",{className:"form-label",children:"repo"}),Object(b.jsx)("input",{className:"form-input",name:"repo",value:o.repo,onChange:j}),Object(b.jsx)("div",{className:"form-hint",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f, \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0435\u0433\u043e git-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"})]}),Object(b.jsxs)("div",{className:"form-row",children:[Object(b.jsx)("label",{className:"form-label",children:"blackList"}),Object(b.jsx)("input",{className:"form-input",name:"blackList",value:o.blackList,onChange:j}),Object(b.jsx)("div",{className:"form-hint",children:"\u041f\u0440\u0438\u043c\u0435\u0440: login1, login2, loginN"})]}),Object(b.jsx)("div",{className:"form-row",children:Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)("button",{className:"btn",onClick:function(){a(!s),e.onSaveHandler(o)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(b.jsx)("button",{className:"btn",onClick:function(){a(!s),u(e.settings)},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})})]})]})};var O=function(){var e=Object(c.useState)(function(e){var t=j.getItem(u);return t?JSON.parse(t):(j.setItem(u,JSON.stringify(e)),e)}({login:"razikov",repo:"hh-school-react-2021",blackList:""})),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(null),l=Object(i.a)(a,2),d=l[0],m=l[1],O=o(n);return Object(b.jsx)("div",{className:"app",children:Object(b.jsxs)("div",{className:"content-container",children:[Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h3",{className:"header__title",children:"\u0414\u0417 \u043f\u043e React \u0431\u0435\u0437 redux"}),Object(b.jsx)("div",{className:"header__fill"}),Object(b.jsxs)("div",{className:"header__commands",children:[Object(b.jsx)("button",{className:"btn",onClick:function(){r(n,m)},children:"\u041d\u0430\u0439\u0442\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0435\u0433\u043e"}),Object(b.jsx)(f,{settings:n,onSaveHandler:function(e){var t;e&&(t=e,j.setItem(u,JSON.stringify(t)),s(e))}})]})]}),Object(b.jsxs)("main",{className:"user-pair",children:[Object(b.jsx)(h,{label:"\u0410\u0432\u0442\u043e\u0440",user:O}),Object(b.jsx)(h,{label:"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0439",user:d})]})]})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),c(e),s(e),a(e),l(e)}))};l.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),g()}],[[16,1,2]]]);
//# sourceMappingURL=main.7237fb7c.chunk.js.map